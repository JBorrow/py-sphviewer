<!DOCTYPE html>
<html lang="en-US">
  <head>

    
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.5.0 -->
<title>QuickView | Py-SPHViewer</title>
<meta name="generator" content="Jekyll v3.7.4" />
<meta property="og:title" content="QuickView" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Py-SPHViewer is a Python package to visualize and explore N-body + Hydrodynamics simulations using the Smoothed Particle Hydrodynamics (SPH) interpolation scheme." />
<meta property="og:description" content="Py-SPHViewer is a Python package to visualize and explore N-body + Hydrodynamics simulations using the Smoothed Particle Hydrodynamics (SPH) interpolation scheme." />
<link rel="canonical" href="http://localhost:4000/content/tutorial_quickview.html" />
<meta property="og:url" content="http://localhost:4000/content/tutorial_quickview.html" />
<meta property="og:site_name" content="Py-SPHViewer" />
<script type="application/ld+json">
{"@type":"WebPage","headline":"QuickView","url":"http://localhost:4000/content/tutorial_quickview.html","description":"Py-SPHViewer is a Python package to visualize and explore N-body + Hydrodynamics simulations using the Smoothed Particle Hydrodynamics (SPH) interpolation scheme.","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/assets/css/style.css?v=e710a28b8a226db936100a4766b4ec6daa6ec462">
  </head>
  <body>
    <a id="skip-to-content" href="#content">Skip to the content.</a>

    <header class="page-header" role="banner">
      <h1 class="project-name">Py-SPHViewer</h1>
      <h2 class="project-tagline">Py-SPHViewer is a Python package to visualize and explore N-body + Hydrodynamics simulations using the Smoothed Particle Hydrodynamics (SPH) interpolation scheme.</h2>

      <a href="/index.html" class="btn">Home</a>
      <a href=" /content/tutorials.html" class="btn">Tutorials</a>
      <a href="/content/gallery.html" class="btn">Gallery</a>

      
        <a href="http://github.com/alejandrobll/py-sphviewer" class="btn">View on GitHub</a>
      
      
        <a href="https://github.com/alejandrobll/py-sphviewer/archive/master.zip" class="btn">Download .zip</a>
	



    </header>

    <main id="content" class="main-content" role="main">
      <h1 id="using-quickview-in-py-sphviewer">Using QuickView in Py-SPHViewer</h1>

<p>QuickView is the simplest way to produce an image with Py-SPHViewer. Here we use a simple example that illustrates its use.</p>

<h1 id="looking-at-a-dark-matter-halo-with-quickview">Looking at a dark matter halo with QuickView</h1>

<p>In this example we will create an image of a dark matter halo extracted from a cosmological simulation. Before starting the tutorial please download <a href="https://github.com/alejandrobll/py-sphviewer/raw/master/examples/dm_halo.h5py"><strong>this file</strong></a>.</p>

<p>We can read the content of the file using the <a href="https://www.h5py.org/">h5py</a> library:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">h5py</span>

<span class="k">with</span> <span class="n">h5py</span><span class="o">.</span><span class="n">File</span><span class="p">(</span><span class="s">'dm_halo.h5py'</span><span class="p">,</span><span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="n">f</span><span class="p">[</span><span class="s">'Coordinates'</span><span class="p">]</span><span class="o">.</span><span class="n">value</span>
</code></pre></div></div>
<p>The coordinates of the dark matter particles are expressed in Mpc/h, and they trace the density field of a collapsed dark matter halo extracted from a cosmological simulation. Our goal will be to visualise the projected density field.</p>

<p>The image below shows the <em>xy</em> projection of the distribution of particles:</p>

<p align="center">
   <img src="../assets/img/scatter_quickview.png" alt="First image with QuickView" />
</p>

<p>The projected density field can be calculated (and visualised) using QuickView:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="nn">sphviewer.tools</span> <span class="kn">import</span> <span class="n">QuickView</span>
<span class="n">qv</span> <span class="o">=</span> <span class="n">QuickView</span><span class="p">(</span><span class="n">pos</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="s">'infinity'</span><span class="p">,</span> <span class="n">plot</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">qv</span><span class="o">.</span><span class="n">imshow</span><span class="p">()</span>
</code></pre></div></div>

<p align="center">
   <img src="../assets/img/grey_quickview.png" alt="First image with QuickView" />
</p>

<p>Note that we pass pos.T as argument because our array was <code class="highlighter-rouge">pos[Npart,3]</code>, whereas PySPHViewer expects an array of shape <code class="highlighter-rouge">pos[3,Npart]</code>. The argument <code class="highlighter-rouge">r=’infinity’</code> indicates that the camera is looking at the scene from the infinity, so that the scene has to be rendered using a <a href="https://en.wikipedia.org/wiki/Parallel_projection">parallel (or orthographic)</a> projection.</p>

<p>QuickView retrieves the active axis and places the image on it; <code class="highlighter-rouge">plot=False</code> prevents this from happening. QuickView objects have an associated <code class="highlighter-rouge">imshow</code> method to show the final image. Valid <code class="highlighter-rouge">*kwargs</code> are identical to those accepted by matplotlib.pyplot.imshow. For example, we can change the <code class="highlighter-rouge">colormap</code> and <code class="highlighter-rouge">vmin</code> as follows:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">qv</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">cmap</span><span class="o">=</span><span class="s">"gist_stern"</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</code></pre></div></div>
<p align="center">
   <img src="../assets/img/gist_stern_quickview.png" alt="First image with QuickView" />
</p>

<p>There are also methods to retrieve the image generated by QuickView:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">img</span> <span class="o">=</span> <span class="n">qv</span><span class="o">.</span><span class="n">get_image</span><span class="p">()</span>
<span class="n">extent</span> <span class="o">=</span> <span class="n">qv</span><span class="o">.</span><span class="n">get_extent</span><span class="p">()</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="n">extent</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s">'gist_stern'</span><span class="p">)</span>
</code></pre></div></div>

<p align="center">
   <img src="../assets/img/heat_quickview.png" alt="First image with QuickView" />
</p>


      <footer class="site-footer">
        
          <span class="site-footer-owner"><a href="http://github.com/alejandrobll/py-sphviewer">py-sphviewer</a> is maintained by <a href="http://github.com/alejandrobll">alejandrobll</a>.</span>
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </main>
  </body>
</html>
